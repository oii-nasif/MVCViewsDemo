@{
    ViewData["Title"] = "Custom Tag Helpers";
}

<div class="container">
    <h1 class="mb-4">@ViewData["Title"]</h1>

    <nav aria-label="breadcrumb" class="mb-4">
        <ol class="breadcrumb">
            <li class="breadcrumb-item"><a asp-action="Index">Tag Helpers</a></li>
            <li class="breadcrumb-item active">Custom</li>
        </ol>
    </nav>

    <!-- Alert Tag Helper -->
    <div class="card mb-4">
        <div class="card-header">
            <h5 class="mb-0">Alert Tag Helper</h5>
        </div>
        <div class="card-body">
            <div class="row">
                <div class="col-md-6">
                    <h6>Examples:</h6>
                    <alert type="primary">This is a primary alert!</alert>
                    <alert type="success" dismissible="true">Success! This alert can be dismissed.</alert>
                    <alert type="warning">Warning: Please check your input.</alert>
                    <alert type="danger" dismissible="true">Error! Something went wrong.</alert>
                </div>
                <div class="col-md-6">
                    <h6>Usage:</h6>
                    <pre class="bg-light p-2 rounded small"><code>&lt;alert type="primary"&gt;
    Primary alert!
&lt;/alert&gt;

&lt;alert type="success" dismissible="true"&gt;
    Dismissible success alert!
&lt;/alert&gt;</code></pre>
                    <h6 class="mt-3">Properties:</h6>
                    <ul class="small">
                        <li><code>type</code> - Alert type (primary, success, warning, danger, info)</li>
                        <li><code>dismissible</code> - Show close button (true/false)</li>
                        <li><code>icon</code> - CSS class for icon</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <!-- Badge Tag Helper -->
    <div class="card mb-4">
        <div class="card-header">
            <h5 class="mb-0">Badge Tag Helper</h5>
        </div>
        <div class="card-body">
            <div class="row">
                <div class="col-md-6">
                    <h6>Examples:</h6>
                    <p>
                        <badge type="primary">Primary</badge>
                        <badge type="secondary">Secondary</badge>
                        <badge type="success">Success</badge>
                        <badge type="danger">Danger</badge>
                        <badge type="warning">Warning</badge>
                        <badge type="info">Info</badge>
                    </p>
                    <p>
                        <badge type="primary" pill="true">Pill Primary</badge>
                        <badge type="success" pill="true">Pill Success</badge>
                        <badge type="danger" pill="true">Pill Danger</badge>
                    </p>
                </div>
                <div class="col-md-6">
                    <h6>Usage:</h6>
                    <pre class="bg-light p-2 rounded small"><code>&lt;badge type="primary"&gt;Primary&lt;/badge&gt;
&lt;badge type="success" pill="true"&gt;Pill&lt;/badge&gt;</code></pre>
                    <h6 class="mt-3">Properties:</h6>
                    <ul class="small">
                        <li><code>type</code> - Badge type (primary, secondary, success, etc.)</li>
                        <li><code>pill</code> - Rounded pill style (true/false)</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <!-- Email Tag Helper -->
    <div class="card mb-4">
        <div class="card-header">
            <h5 class="mb-0">Email Tag Helper</h5>
        </div>
        <div class="card-body">
            <div class="row">
                <div class="col-md-6">
                    <h6>Examples:</h6>
                    <ul>
                        <li>Basic: <email address="info@example.com"></email></li>
                        <li>With subject: <email address="support@example.com" subject="Help Request">Contact Support</email></li>
                        <li>With body: <email address="sales@example.com" subject="Product Inquiry" body="I would like to know more about...">Sales Inquiry</email></li>
                    </ul>
                </div>
                <div class="col-md-6">
                    <h6>Usage:</h6>
                    <pre class="bg-light p-2 rounded small"><code>&lt;email address="info@@example.com"&gt;&lt;/email&gt;

&lt;email address="support@@example.com"
       subject="Help Request"&gt;
    Contact Support
&lt;/email&gt;</code></pre>
                    <h6 class="mt-3">Properties:</h6>
                    <ul class="small">
                        <li><code>address</code> - Email address (required)</li>
                        <li><code>subject</code> - Pre-filled subject line</li>
                        <li><code>body</code> - Pre-filled email body</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <!-- Progress Bar Tag Helper -->
    <div class="card mb-4">
        <div class="card-header">
            <h5 class="mb-0">Progress Bar Tag Helper</h5>
        </div>
        <div class="card-body">
            <div class="row">
                <div class="col-md-6">
                    <h6>Examples:</h6>
                    <p class="mb-2">Basic (25%):</p>
                    <progress-bar value="25" color="primary"></progress-bar>

                    <p class="mb-2 mt-3">With label (50%):</p>
                    <progress-bar value="50" color="success" show-label="true"></progress-bar>

                    <p class="mb-2 mt-3">Striped (75%):</p>
                    <progress-bar value="75" color="info" striped="true"></progress-bar>

                    <p class="mb-2 mt-3">Animated striped (60%):</p>
                    <progress-bar value="60" color="warning" striped="true" animated="true"></progress-bar>

                    <p class="mb-2 mt-3">Custom height (90%):</p>
                    <progress-bar value="90" color="danger" height="2rem" show-label="true"></progress-bar>
                </div>
                <div class="col-md-6">
                    <h6>Usage:</h6>
                    <pre class="bg-light p-2 rounded small"><code>&lt;progress-bar value="25" color="primary"&gt;
&lt;/progress-bar&gt;

&lt;progress-bar value="75"
              color="success"
              show-label="true"
              striped="true"
              animated="true"&gt;
&lt;/progress-bar&gt;</code></pre>
                    <h6 class="mt-3">Properties:</h6>
                    <ul class="small">
                        <li><code>value</code> - Progress percentage (0-100)</li>
                        <li><code>color</code> - Bar color (primary, success, etc.)</li>
                        <li><code>show-label</code> - Show percentage text</li>
                        <li><code>striped</code> - Striped style</li>
                        <li><code>animated</code> - Animate stripes</li>
                        <li><code>height</code> - Custom height (e.g., "2rem")</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <!-- Time Ago Tag Helper -->
    <div class="card mb-4">
        <div class="card-header">
            <h5 class="mb-0">Time Ago Tag Helper</h5>
        </div>
        <div class="card-body">
            <div class="row">
                <div class="col-md-6">
                    <h6>Examples:</h6>
                    <ul>
                        <li>5 minutes ago: <time-ago date="@DateTime.Now.AddMinutes(-5)"></time-ago></li>
                        <li>2 hours ago: <time-ago date="@DateTime.Now.AddHours(-2)"></time-ago></li>
                        <li>Yesterday: <time-ago date="@DateTime.Now.AddDays(-1)"></time-ago></li>
                        <li>Last week: <time-ago date="@DateTime.Now.AddDays(-7)"></time-ago></li>
                        <li>Last month: <time-ago date="@DateTime.Now.AddMonths(-1)"></time-ago></li>
                    </ul>
                    <p class="text-muted small">Hover over the text to see the exact date/time</p>
                </div>
                <div class="col-md-6">
                    <h6>Usage:</h6>
                    <pre class="bg-light p-2 rounded small"><code>&lt;time-ago date="@@DateTime.Now.AddDays(-7)"&gt;
&lt;/time-ago&gt;

&lt;!-- Output: "7 days ago" --&gt;
&lt;!-- With title showing exact date --&gt;</code></pre>
                    <h6 class="mt-3">Properties:</h6>
                    <ul class="small">
                        <li><code>date</code> - DateTime value to display as relative time</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <!-- Creating Custom Tag Helpers -->
    <div class="card mb-4">
        <div class="card-header bg-dark text-white">
            <h5 class="mb-0">Creating a Custom Tag Helper</h5>
        </div>
        <div class="card-body">
            <pre class="bg-light p-3 rounded"><code>using Microsoft.AspNetCore.Razor.TagHelpers;

namespace MVCViewsDemo.TagHelpers;

[HtmlTargetElement("badge")]
public class BadgeTagHelper : TagHelper
{
    public string Type { get; set; } = "primary";
    public bool Pill { get; set; } = false;

    public override async Task ProcessAsync(
        TagHelperContext context,
        TagHelperOutput output)
    {
        output.TagName = "span";

        var cssClass = $"badge bg-{Type}";
        if (Pill)
        {
            cssClass += " rounded-pill";
        }
        output.Attributes.SetAttribute("class", cssClass);

        var content = await output.GetChildContentAsync();
        output.Content.SetHtmlContent(content.GetContent());
    }
}</code></pre>

            <h6 class="mt-3">Key Points:</h6>
            <ul>
                <li>Inherit from <code>TagHelper</code> class</li>
                <li>Use <code>[HtmlTargetElement]</code> to specify the tag name</li>
                <li>Public properties become attributes (PascalCase to kebab-case)</li>
                <li>Override <code>Process</code> or <code>ProcessAsync</code> method</li>
                <li>Register in <code>_ViewImports.cshtml</code> with <code>@@addTagHelper</code></li>
            </ul>
        </div>
    </div>

    <div class="mt-4">
        <a asp-action="BuiltIn" class="btn btn-outline-secondary">&larr; Built-in Tag Helpers</a>
        <a asp-action="Index" class="btn btn-primary">Back to Overview</a>
    </div>
</div>
